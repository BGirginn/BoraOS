# BoraOS 0.1 x86_64 - GRUB Configuration
# UEFI Boot Configuration

insmod part_gpt
insmod part_msdos
insmod fat
insmod iso9660
insmod all_video
insmod gfxterm
insmod font

set default=0
set timeout=30
set timeout_style=menu

# Terminal configuration
terminal_input console
terminal_output gfxterm

# Set graphical menu
loadfont unicode
set gfxmode=auto
set gfxpayload=keep

# Menu colors
set menu_color_normal=white/black
set menu_color_highlight=black/light-gray

# Main menu entry - Boot BoraOS (default)
menuentry "BoraOS 0.1 x86_64 (Hyprland)" {
    set gfxpayload=keep
    linux /arch/boot/x86_64/vmlinuz-linux archisobasedir=arch archisolabel=BORAOS_01 cow_spacesize=4G quiet splash
    initrd /arch/boot/x86_64/initramfs-linux.img
}

# Fallback entry - safe mode
menuentry "BoraOS 0.1 x86_64 (Safe Mode - No Graphics)" {
    set gfxpayload=text
    linux /arch/boot/x86_64/vmlinuz-linux archisobasedir=arch archisolabel=BORAOS_01 cow_spacesize=4G nomodeset
    initrd /arch/boot/x86_64/initramfs-linux.img
}

# Accessibility - speech
menuentry "BoraOS 0.1 x86_64 (Accessibility - Speech)" {
    set gfxpayload=keep
    linux /arch/boot/x86_64/vmlinuz-linux archisobasedir=arch archisolabel=BORAOS_01 cow_spacesize=4G accessibility=on
    initrd /arch/boot/x86_64/initramfs-linux.img
}

# UEFI Shell (if available)
if [ "${grub_platform}" == "efi" ]; then
    if [ -f /shellx64.efi ]; then
        menuentry "UEFI Shell" {
            chainloader /shellx64.efi
        }
    fi
fi

# Firmware setup (UEFI)
if [ "${grub_platform}" == "efi" ]; then
    menuentry "UEFI Firmware Settings" {
        fwsetup
    }
fi
